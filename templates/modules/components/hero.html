<!--
 * @Author: Alkaid(AlkaidMegrez@outlook.com)
 * @Date: 2023-07-04 12:34:16
 * @LastEditors: Alkaid(AlkaidMegrez@outlook.com)
 * @LastEditTime: 2023-07-08 16:29:30
 * @FilePath: /theme-crux/templates/modules/components/hero.html
 * @Description: 
 * 
 * Copyright (c) 2023 by Crux, All Rights Reserved. 
-->
<div class="col-span-10 md:col-span-7 w-full h-96 bg-center bg-cover rounded-lg flex items-end"
    th:style="'background-image:url(' + ${theme.config.index.hero} + ')'">
    <div class="w-full h-36 rounded-b-lg bg-white/30 backdrop-blur-lg backdrop-brightness-50 flex items-center">
        <div class="p-4 space-y-4">
            <div class="text-3xl md:text-4xl text-white font-bold" th:text="${theme.config.index.title}">
            </div>
            <div class="text-xl md:text-2xl font-serif italic text-gray-200 font-bold"
                th:text="${theme.config.index.subtitle}">
            </div>
        </div>
    </div>
</div>
<div class="col-span-10 md:col-span-3 w-full h-96">
    <div class="grid grid-rows-3 gap-4 w-full h-full">
        <div class="row-span-1 w-full h-full bg-gradient-to-r from-blue-700 to-blue-500 rounded-lg">
            <div class="w-full h-full flex items-center justify-between p-4 md:p-8">
                <div>
                    <div class="text-2xl text-white font-bold" th:text="${theme.config.moments.moment_title}"></div>
                    <div class="text-sm font-serif italic text-gray-200 font-bold"
                        th:text="${theme.config.moments.moment_subtitle}"></div>
                </div>
                <a href="/moments"
                    class="rounded-full backdrop-blur-lg  bg-white/30 h-8 w-8 flex items-center justify-center">
                    <div class="i-tabler-arrow-right text-white"></div>
                </a>
            </div>
        </div>
        <div class="row-span-3 w-full h-full bg-white rounded-lg divide-y overflow-auto">
            <th:block th:with="moments = ${momentFinder.list(1, 3)}">
                <div th:unless="${moments.items.size() == 0}" class="space-y-2" th:each="moment : ${moments.items}"
                    th:with="content = ${moment.spec.content}">
                    <div class="p-4 space-y-2">
                        <div class="flex gap-1">
                            <div class="bg-center bg-cover h-6 w-6 rounded-lg"
                                th:style="'background-image:url(' + ${moment.owner.avatar} + ')'"></div>
                            <div class="text-sm font-bold text-gray-800" th:text="${moment.owner.name}"></div>
                        </div>
                        <div class="text-xs  text-gray-500"
                            th:text="${#dates.format(moment.spec.releaseTime,'yyyy-MM-dd HH:mm')}"></div>
                        <div class="text-sm font-bold text-gray-700" th:if="${not #strings.isEmpty(content.html)}"
                            th:utext="${content.html}"></div>

                    </div>
                    <th:block class="space-y-2" th:if="${not #lists.isEmpty(content.medium)}"
                        th:each="momentItem : ${content.medium}">
                        <img th:if="${momentItem.type.name == 'PHOTO'}" th:src="${momentItem.url}" />
                        <video th:if="${momentItem.type.name == 'VIDEO'}" th:src="${momentItem.url}"></video>
                    </th:block>
                </div>
                <div th:if="${moments.items.size() == 0}" class="w-full h-full flex justify-center items-center">
                    <div class="space-y-2">
                        <div class="text-md font-serif italic font-bold">oops!</div>
                        <div class="text-sm font-bold">期待您的第一条Moments</div>
                    </div>
                </div>
            </th:block>
        </div>
    </div>
</div>